@import "./common.css";
@source "../adm/**/*.php";

@layer components {
    .hint-text {
        @apply mt-1 block text-xs text-default-400;
    }

    .hint-box {
        @apply mb-4 rounded-xl border border-default-300 bg-default-100 px-4 py-3 text-sm text-default-700;
    }

    .section-title {
        @apply mb-3 text-lg font-semibold text-slate-900 dark:text-slate-100;
    }

    .section-anchor {
        @apply mb-4 flex flex-wrap gap-2;
    }

    .section-anchor a {
        @apply inline-flex items-center rounded-lg border border-default-300 bg-white px-3 py-1.5 text-xs font-medium text-default-700 hover:bg-default-100;
    }

    .table-shell {
        @apply overflow-x-auto;
    }

    .table-card,
    .form-card {
        @apply rounded-xl border border-default-300 bg-card shadow-sm;
    }

    .table-card > table,
    .form-card > table {
        @apply w-full;
    }

    .table-card thead th {
        @apply border-b border-default-300 bg-default-100 px-3 py-2 text-left text-sm font-semibold text-default-700;
    }

    .table-card tbody td {
        @apply border-b border-default-300 px-3 py-2 align-middle text-sm;
    }

    .form-card tbody th {
        @apply w-40 border-b border-default-300 bg-default-100 px-4 py-3 text-left text-sm font-semibold text-default-700;
    }

    .form-card tbody td {
        @apply border-b border-default-300 px-4 py-3 align-middle text-sm;
    }

    .form-card tbody tr:last-child th,
    .form-card tbody tr:last-child td,
    .table-card tbody tr:last-child td {
        @apply border-b-0;
    }

    .table-empty {
        @apply px-4 py-8 text-center text-sm text-default-500;
    }

    .summary-all {
        @apply inline-flex items-center rounded-lg border border-default-300 bg-white px-3 py-1.5 text-sm text-default-700 hover:bg-default-100;
    }

    .summary-chip {
        @apply inline-flex items-center gap-1 rounded-lg border border-default-300 bg-default-100 px-3 py-1.5 text-sm text-default-700;
    }

    .summary-label {
        @apply text-default-600;
    }

    .summary-value {
        @apply font-semibold text-default-900 dark:text-default-100;
    }

    .action-bar {
        @apply mt-4 flex flex-wrap items-center justify-end gap-2;
    }

    .action-inline {
        @apply mt-4 flex flex-wrap items-center gap-2;
    }

    .action-bar-popup {
        @apply mt-4 flex flex-wrap items-center justify-end gap-2;
    }

    .btn-primary {
        @apply border border-transparent bg-primary text-white hover:bg-primary-hover;
    }

    .btn-secondary {
        @apply border border-default-300 bg-white text-default-700 hover:bg-default-100;
    }

    .btn-tertiary {
        @apply border border-default-300 bg-default-100 text-default-700 hover:bg-default-200;
    }

    .btn-inline {
        @apply inline-flex items-center rounded-lg border border-default-300 bg-white px-2.5 py-1 text-xs font-medium text-default-700 hover:bg-default-100;
    }

    .is-active {
        @apply ring-2 ring-primary/20;
    }

    [class^="cell-"],
    [class*=" cell-"] {
        @apply align-middle;
    }

    .cell-chk,
    .cell-chk2 {
        @apply w-10 text-center;
    }

    .cell-mng,
    .cell-mng-s,
    .cell-mng-m,
    .cell-mngsmall {
        @apply text-center whitespace-nowrap;
    }

    .cell-num,
    .cell-numsmall,
    .cell-numbig,
    .cell-num-right,
    .cell-numincome,
    .cell-numsum,
    .cell-numcoupon,
    .cell-numrdy,
    .cell-numcancel0,
    .cell-numcancel1,
    .cell-price {
        @apply text-right tabular-nums whitespace-nowrap;
    }

    .cell-date,
    .cell-datetime {
        @apply whitespace-nowrap text-default-600;
    }

    .cell-left {
        @apply text-left;
    }

    .cell-name,
    .cell-mbname,
    .cell-mbid,
    .cell-category,
    .cell-tel,
    .cell-input {
        @apply text-left;
    }

    .col-3 {
        width: 12rem;
    }

    .col-2 {
        width: 10rem;
    }

    .col-4 {
        width: 16rem;
    }

    .status-order {
        @apply border-blue-500/40 bg-blue-500/10 text-blue-600;
    }

    .status-paid {
        @apply border-emerald-500/40 bg-emerald-500/10 text-emerald-600;
    }

    .status-ready {
        @apply border-amber-500/40 bg-amber-500/10 text-amber-700;
    }

    .status-ship {
        @apply border-cyan-500/40 bg-cyan-500/10 text-cyan-700;
    }

    .status-done {
        @apply border-purple-500/40 bg-purple-500/10 text-purple-700;
    }

    .status-cancel {
        @apply border-rose-500/40 bg-rose-500/10 text-rose-700;
    }

    @media (max-width: 768px) {
        td > .form-select,
        td .form-select {
            width: auto !important;
            min-width: 7.25rem !important;
            max-width: 100% !important;
            padding-inline-end: 2rem !important;
            text-overflow: clip !important;
            white-space: nowrap !important;
        }
    }
}

@layer utilities {
    .caption-sr-only {
        @apply sr-only;
    }
}

@layer components {
    table > caption {
        @apply sr-only;
    }
}

@layer components {
    :root {
        --admin-shell-bar-height: 4.25rem;
        --admin-sidebar-width: 17rem;
        --admin-sidebar-collapsed-width: 5.5rem;
    }

    #to_content a {
        position: absolute;
        left: -9999px;
        top: auto;
        width: 1px;
        height: 1px;
        overflow: hidden;
    }

    #to_content a:focus {
        @apply fixed left-4 top-4 z-50 h-auto w-auto rounded-lg bg-slate-900 px-3 py-2 text-sm text-white;
    }

    #hd {
        @apply fixed inset-y-0 left-0 z-50;
        width: var(--admin-sidebar-width);
    }

    #gnb {
        @apply flex h-full flex-col border-r border-default-300 bg-card transition-all duration-300;
    }

    #gnb > h2 {
        @apply flex items-center justify-between gap-3 border-b border-default-300 px-5 py-0;
        min-height: var(--admin-shell-bar-height);
    }

    #gnb > h2 > a {
        @apply flex min-w-0 items-center gap-3;
    }

    #gnb > h2 > a > span:first-child {
        @apply flex h-10 w-10 items-center justify-center rounded-xl bg-slate-900 text-sm font-semibold text-white;
    }

    #gnb > h2 > a > span:first-child .admin-shell-control-icon {
        width: 1.1rem;
        height: 1.1rem;
    }

    #gnb > h2 > a > span:last-child {
        @apply truncate text-xl font-semibold tracking-tight text-slate-900 dark:text-slate-100;
    }

    #btn_gnb {
        @apply hidden h-8 w-8 items-center justify-center rounded-lg border border-default-300 bg-default-100 text-xs text-default-600 hover:bg-default-200 lg:inline-flex;
    }

    #btn_gnb span {
        @apply inline-flex transition-transform;
    }

    #btn_gnb.btn_gnb_open span {
        @apply rotate-180;
    }

    .admin-shell-control-icon {
        width: 1rem;
        height: 1rem;
        fill: none;
        stroke: currentColor;
        stroke-width: 2;
        stroke-linecap: round;
        stroke-linejoin: round;
    }

    #btn_gnb_mobile .admin-shell-control-icon {
        width: 1rem;
        height: 1rem;
    }

    #gnb .gnb_menu_scroll_wrap {
        @apply relative flex-1 min-h-0;
    }

    #gnb .gnb_menu_scroll {
        @apply h-full overflow-y-auto px-4 pb-4 pt-5;
        scrollbar-width: none;
        -ms-overflow-style: none;
    }

    #gnb .gnb_menu_scroll::-webkit-scrollbar {
        width: 0;
        height: 0;
    }

    #gnb .gnb_scrollbar {
        @apply pointer-events-none absolute bottom-2 right-1 top-2 w-2 rounded-full;
        opacity: 0;
        transition: opacity 140ms ease;
    }

    #gnb .gnb_scrollbar_thumb {
        @apply absolute left-0 w-full;
        height: 0;
        transform: translateY(0);
        border-radius: 9999px;
        background: color-mix(in oklab, var(--color-default-500) 72%, transparent);
        transition: background 140ms ease;
    }

    #gnb .gnb_menu_scroll_wrap.is-scrollable.is-scrollbar-visible .gnb_scrollbar {
        opacity: 1;
    }

    #gnb .gnb_menu_scroll_wrap.is-scrollable.is-scrollbar-visible .gnb_scrollbar_thumb {
        background: color-mix(in oklab, var(--color-default-500) 82%, transparent);
    }

    #gnb .gnb_label {
        @apply mb-3 px-2 text-xs font-semibold tracking-wide text-default-400;
    }

    #gnb .admin-nav-icon-sprite {
        position: absolute;
        width: 0;
        height: 0;
        overflow: hidden;
    }

    #gnb .admin-nav-list {
        @apply space-y-1.5;
    }

    #gnb .admin-nav-trigger-main {
        @apply flex min-w-0 items-center gap-2.5;
    }

    #gnb .admin-nav-icon {
        width: 1rem;
        height: 1rem;
        flex-shrink: 0;
        color: var(--color-default-500);
        fill: none;
        stroke: currentColor;
        stroke-width: 2;
        stroke-linecap: round;
        stroke-linejoin: round;
        transition: color 140ms ease;
    }

    #gnb .admin-nav-item > .admin-nav-trigger {
        @apply flex w-full items-center justify-between rounded-lg px-2.5 py-2 text-left text-sm font-medium text-default-700 transition-colors hover:text-slate-900 dark:hover:text-default-900;
    }

    #gnb .admin-nav-item > .admin-nav-trigger:hover .admin-nav-icon {
        color: var(--color-default-700);
    }

    #gnb .admin-nav-item.is-open > .admin-nav-trigger {
        @apply text-slate-900 dark:text-default-900;
    }

    #gnb .admin-nav-item.is-open > .admin-nav-trigger .admin-nav-icon {
        color: var(--color-default-700);
    }

    #gnb .admin-nav-item.is-open > .admin-nav-trigger .admin-nav-trigger-label {
        @apply font-semibold;
    }

    #gnb .admin-nav-caret {
        @apply ml-3 inline-flex text-default-500 transition-transform duration-150;
    }

    #gnb .admin-nav-caret-icon {
        width: 0.9rem;
        height: 0.9rem;
        fill: none;
        stroke: currentColor;
        stroke-width: 2;
        stroke-linecap: round;
        stroke-linejoin: round;
    }

    #gnb .admin-nav-item.is-open .admin-nav-caret {
        @apply rotate-180;
    }

    #gnb .admin-nav-panel {
        @apply ml-2 pb-1 pl-5;
    }

    #gnb .admin-nav-panel > .admin-nav-sub-list {
        @apply space-y-0.5 py-0.5;
    }

    #gnb .admin-nav-sub-item {
        @apply relative;
    }

    #gnb .admin-nav-sub-item::before {
        content: "";
        position: absolute;
        left: -0.85rem;
        top: calc(-0.45rem - 8px);
        bottom: calc(-0.45rem + 8px);
        width: 1px;
        background: color-mix(in oklab, var(--color-default-500) 45%, transparent);
        pointer-events: none;
    }

    #gnb .admin-nav-sub-item:first-child::before {
        top: calc(0.8rem - 8px);
    }

    #gnb .admin-nav-sub-item:last-child::before {
        top: calc(-0.45rem - 8px);
        bottom: auto;
        height: 1.25rem;
    }

    #gnb .admin-nav-sub-item:only-child::before {
        display: none;
    }

    #gnb .admin-nav-sub-item::after {
        content: "";
        position: absolute;
        left: -0.85rem;
        top: calc(0.8rem - 8px);
        width: 0.8rem;
        height: 0.8rem;
        border-left: 1px solid color-mix(in oklab, var(--color-default-500) 45%, transparent);
        border-bottom: 1px solid color-mix(in oklab, var(--color-default-500) 45%, transparent);
        border-bottom-left-radius: 0.75rem;
        pointer-events: none;
    }

    #gnb .admin-nav-sub-item > a {
        @apply block rounded-md px-2 py-1 text-sm text-default-600 transition-colors hover:text-slate-900 dark:hover:text-default-900;
    }

    #gnb .admin-nav-sub-item.is-current > a {
        @apply font-semibold text-primary;
    }

    #gnb .gnb_profile {
        @apply mt-auto flex items-center gap-3 border-t border-default-300 p-4;
    }

    #gnb .gnb_profile_avatar {
        @apply flex h-11 w-11 shrink-0 items-center justify-center rounded-xl bg-slate-900 text-sm font-semibold text-white;
    }

    #gnb .gnb_profile_meta {
        @apply min-w-0 flex-1;
    }

    #gnb .gnb_profile_meta strong {
        @apply block truncate text-sm font-semibold text-slate-900 dark:text-slate-100;
    }

    #gnb .gnb_profile_meta span {
        @apply block truncate text-xs text-default-500;
    }

    #gnb .gnb_profile_logout {
        @apply inline-flex h-8 w-8 items-center justify-center rounded-lg border border-default-300 text-default-500 transition hover:bg-default-100 hover:text-default-700;
    }

    #adminSidebarBackdrop {
        @apply fixed inset-0 z-30 bg-slate-900/40 lg:hidden;
    }

    #wrapper {
        @apply min-h-screen bg-default-100 transition-all duration-300;
        padding-left: var(--admin-sidebar-width);
    }

    #hd_top {
        @apply sticky top-0 z-20 flex items-center justify-between gap-4 border-b border-default-300 bg-card/95 px-4 py-0 backdrop-blur lg:px-8;
        min-height: var(--admin-shell-bar-height);
    }

    #hd_top .hd_top_left {
        @apply flex min-w-0 items-center gap-3;
    }

    #btn_gnb_mobile {
        @apply inline-flex h-8 w-8 items-center justify-center rounded-lg border border-default-300 bg-default-100 text-xs text-default-600 lg:hidden;
    }

    #hd_top .hd_breadcrumb {
        @apply flex min-w-0 items-center gap-2 text-sm text-default-500;
    }

    #hd_top .hd_breadcrumb strong {
        @apply truncate font-semibold text-slate-900 dark:text-slate-100;
    }

    #hd_top .hd_top_right {
        @apply flex items-center gap-2;
    }

    #tnb > ul {
        @apply flex items-center gap-2;
    }

    #tnb .tnb_li {
        @apply relative;
    }

    #tnb .tnb_li > a,
    #tnb .tnb_li > button {
        @apply inline-flex h-9 items-center rounded-lg border border-default-300 bg-card px-3 text-sm font-medium text-default-700 transition hover:bg-default-100;
    }

    #tnb .tnb_li > a.tnb_icon_btn,
    #tnb .tnb_li > button.tnb_icon_btn {
        @apply w-9 justify-center px-0;
    }

    #tnb .tnb_mb_area {
        @apply absolute right-0 top-11 z-30 min-w-32 space-y-1 rounded-xl border border-default-300 bg-card p-1 shadow-sm;
    }

    #tnb .tnb_mb_area a {
        @apply block rounded-lg px-3 py-2 text-sm text-default-600 transition hover:bg-default-100 hover:text-slate-900;
    }

    #container {
        @apply px-4 pb-8 pt-6 lg:px-8;
    }

    #container_title {
        @apply text-3xl font-semibold tracking-tight text-slate-900 dark:text-slate-100;
    }

    #container_subtitle {
        @apply mb-5 mt-2 text-sm text-default-500;
    }

    #container > .admin-content-shell {
        @apply rounded-2xl border border-default-300 bg-card p-4 shadow-sm lg:p-6;
    }

    #ft {
        @apply px-4 pb-6 pt-2 text-xs text-default-500 lg:px-8;
    }

    #ft p {
        @apply flex flex-wrap items-center justify-between gap-3 rounded-xl border border-default-300 bg-card px-4 py-3;
    }

    .scroll_top {
        @apply inline-flex items-center rounded-lg border border-default-300 bg-default-100 px-3 py-1.5 text-xs font-medium text-default-600 transition hover:bg-default-200;
    }

    #adminPopupContainer #popupOverlay {
        @apply fixed inset-0 z-50 bg-slate-900/45 p-4;
    }

    #adminPopupContainer #popupOverlay > div {
        @apply mx-auto mt-12 w-full max-w-2xl rounded-2xl border border-default-300 bg-card shadow-xl;
    }

    #adminPopupContainer #popupOverlay > div > div:first-child {
        @apply flex items-center justify-between border-b border-default-300 px-5 py-4;
    }

    #adminPopupContainer #popupTitle {
        @apply text-lg font-semibold text-slate-900 dark:text-slate-100;
    }

    #adminPopupContainer .popup-close-btn {
        @apply inline-flex items-center rounded-lg border border-default-300 bg-default-100 px-3 py-1.5 text-xs text-default-600 hover:bg-default-200;
    }

    #adminPopupContainer #popupBody {
        @apply px-5 py-4;
    }

    #adminPopupContainer #popupFooter {
        @apply border-t border-default-300 px-5 py-4;
    }

    body.admin-sidebar-condensed #hd {
        width: var(--admin-sidebar-collapsed-width);
    }

    body.admin-sidebar-condensed #wrapper {
        padding-left: var(--admin-sidebar-collapsed-width);
    }

    body.admin-sidebar-condensed #gnb > h2 {
        @apply relative justify-center px-3;
    }

    body.admin-sidebar-condensed #gnb > h2 > a {
        @apply justify-center;
    }

    body.admin-sidebar-condensed #gnb #btn_gnb {
        @apply hidden;
    }

    body.admin-sidebar-condensed #gnb > h2 > a > span:last-child,
    body.admin-sidebar-condensed #gnb .gnb_label,
    body.admin-sidebar-condensed #gnb .admin-nav-trigger-label,
    body.admin-sidebar-condensed #gnb .gnb_profile_meta,
    body.admin-sidebar-condensed #gnb .gnb_profile_logout {
        @apply hidden;
    }

    body.admin-sidebar-condensed #gnb .admin-nav-item > .admin-nav-trigger,
    body.admin-sidebar-condensed #gnb .gnb_profile {
        @apply justify-center;
    }

    body.admin-sidebar-condensed #gnb .gnb_profile {
        @apply border-t-0 px-0 pb-4 pt-2;
    }

    body.admin-sidebar-condensed #gnb .admin-nav-caret {
        @apply hidden;
    }

    body.admin-sidebar-condensed #gnb .admin-nav-item {
        position: relative;
    }

    body.admin-sidebar-condensed #gnb .admin-nav-trigger-main {
        @apply w-full justify-center;
    }

    body.admin-sidebar-condensed #gnb .admin-nav-icon {
        color: var(--color-default-600);
    }

    body.admin-sidebar-condensed #gnb .admin-nav-item:hover > .admin-nav-trigger .admin-nav-icon,
    body.admin-sidebar-condensed #gnb .admin-nav-item:focus-within > .admin-nav-trigger .admin-nav-icon {
        color: var(--color-primary);
    }

    body.admin-sidebar-condensed #gnb .admin-nav-panel {
        display: block !important;
        position: absolute;
        left: calc(100% + 0.5rem);
        top: 0;
        z-index: 120;
        min-width: 15rem;
        margin: 0;
        padding: 0;
        opacity: 0;
        visibility: hidden;
        pointer-events: none;
        transform: translateX(0.35rem);
        transition: opacity 150ms ease, transform 150ms ease, visibility 150ms ease;
    }

    body.admin-sidebar-condensed #gnb .admin-nav-item:hover > .admin-nav-panel,
    body.admin-sidebar-condensed #gnb .admin-nav-item:focus-within > .admin-nav-panel {
        opacity: 1;
        visibility: visible;
        pointer-events: auto;
        transform: translateX(0);
    }

    body.admin-sidebar-condensed #gnb .admin-nav-panel > .admin-nav-sub-list {
        @apply rounded-xl border border-default-300 bg-card p-3 shadow-sm;
    }

    body.admin-sidebar-condensed #gnb .admin-nav-sub-item::before,
    body.admin-sidebar-condensed #gnb .admin-nav-sub-item::after {
        display: none;
    }

    body.admin-sidebar-condensed #gnb .admin-nav-sub-item > a {
        @apply rounded-lg px-3 py-1.5;
    }

    body.admin-sidebar-condensed #gnb .gnb_menu_scroll_wrap,
    body.admin-sidebar-condensed #gnb .gnb_menu_scroll {
        overflow: visible;
    }

    body.admin-sidebar-condensed #gnb .gnb_scrollbar {
        display: none;
    }

    @media (min-width: 1024px) {
        body.admin-sidebar-condensed #btn_gnb_mobile {
            @apply inline-flex;
        }
    }

    @media (max-width: 1023px) {
        #hd {
            width: var(--admin-sidebar-width);
        }

        body:not(.admin-sidebar-open) #hd {
            pointer-events: none;
        }

        body.admin-sidebar-open #hd {
            pointer-events: auto;
        }

        #gnb {
            position: fixed;
            inset: 0 auto 0 0;
            width: var(--admin-sidebar-width);
            z-index: 50;
            pointer-events: auto;
            transform: translateX(-100%);
            @apply shadow-xl;
        }

        body.admin-sidebar-open #gnb {
            transform: translateX(0);
        }

        #wrapper,
        body.admin-sidebar-condensed #wrapper {
            padding-left: 0;
        }

        #adminSidebarBackdrop {
            z-index: 40;
            pointer-events: auto;
        }

        #gnb .gnb_scrollbar {
            display: none;
        }
    }
}
