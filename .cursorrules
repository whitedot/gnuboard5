# Project Rules

## 1. 프로젝트 컨텍스트
- 본 프로젝트는 그누보드5 기반의 레거시 PHP 애플리케이션입니다.
- PSR-4 클래스 구조 대신 절차적 함수(lib/*.lib.php) 구조를 따릅니다.
- 데이터베이스 연동은 PDO 대신 sql_query(), sql_fetch() 함수를 사용합니다.
- 모든 전역 변수는 .ide_helper/globals.php에 정의된 전역변수를 사용합니다.

## 2. 리팩토링 가이드라인
- **객체지향(OOP) 리팩토링 시도 금지**:
  - 본 프로젝트는 그누보드(GNUBoard) 기반으로, 주로 절차지향적 패턴과 전역 함수/변수를 사용합니다.
  - 기존 코드를 클래스나 인터페이스 도입 등으로 무리하게 구조 변경하지 마십시오.
  - 기존의 함수 중심 구조를 유지하며 코드를 작성해야 합니다.

## 3. 코드 안정성
- **존재하지 않는 메서드/함수 호출 금지**:
  - 사용하려는 함수나 메서드가 실제 코드베이스나 PHP 버전에 존재하는지 반드시 확인하십시오.
  - 추측에 의한 함수 호출(Hallucinated calls)을 엄격히 금지합니다.
  - 필요한 경우 `function_exists()` 등으로 검증 로직을 추가하십시오.

## 4. 코드 작성 규칙
- **타입 명시**: 함수 작성 시 반드시 PHPDoc을 포함하고, Array Shape를 사용하여 파라미터와 리턴 타입을 명시하세요.
- **전역 변수**: global $member, global $config 사용 시 반드시 상단에 @var 주석으로 타입을 명시하세요.
- **리팩토링 금지**: 사용자의 명시적 요청이 없는 한, 절차적 코드를 클래스로 변환하지 마세요. 기존 스타일(snake_case 함수명 등)을 준수하세요.